<!-- Shop Sidebar Start -->
{% load static %}
 <div class="col-lg-3 col-md-4">
    <!-- Price Start -->
    <h5 class="section-title position-relative text-uppercase mb-3"><span class="bg-secondary pr-3">Filter by price</span></h5>
    <!-- Price range filter -->
<div class="bg-light p-4 mb-30">
    <form method="GET">
        <!-- ... (existing color filter code) ... -->
        
        <div class="custom-control custom-checkbox d-flex align-items-center justify-content-between mb-3">
            <input type="checkbox" class="custom-control-input" id="price-all" name="price_all" value="on" {% if 'price_all' in request.GET %} checked {% endif %}>
            <label class="custom-control-label" for="price-all">All Prices</label>
        </div>
        {% for price_range in price_ranges %}
            {% with min_price=price_range.0|stringformat:"d" max_price=price_range.1|stringformat:"d" %}
                <div class="custom-control custom-checkbox d-flex align-items-center justify-content-between mb-3">
                    <input type="checkbox" class="custom-control-input" id="price-{{ forloop.counter }}" name="price" value="{{ forloop.counter }}"
                    {% if forloop.counter|stringformat:"d" in selected_prices %} checked {% endif %}>
                    <label class="custom-control-label" for="price-{{ forloop.counter }}">
                        {% if max_price %}
                            ${{ min_price }} - ${{ max_price }}
                        {% else %}
                            ${{ min_price }} and above
                        {% endif %}
                    </label>
                </div>
            {% endwith %}
        {% endfor %}
        <button type="submit" class="btn btn-primary">Apply</button>

    </form>
</div>

  
    <!-- Price End -->
    
    <!-- Color Start -->
    <h5 class="section-title position-relative text-uppercase mb-3">
        <span class="bg-secondary pr-3">Filter by color</span>
    </h5>
    <div class="bg-light p-4 mb-30">
        <form method="GET">
            <div class="custom-control custom-checkbox d-flex align-items-center justify-content-between mb-3">
                <input type="checkbox" class="custom-control-input" checked id="color-all" name="color" value="all">
                <label class="custom-control-label" for="color-all">All Color</label>
                <span class="badge border font-weight-normal">1000</span>
            </div>
            {% for color in colours %}
                <div class="custom-control custom-checkbox d-flex align-items-center justify-content-between mb-3">
                    <input type="checkbox" class="custom-control-input" id="color-{{ color }}" name="color" value="{{ color }}"
                    {% if color in selected_colors %} checked {% endif %}>
                    <label class="custom-control-label" for="color-{{ color }}">{{ color }}</label>
                    <!-- You may display additional information like stock count if needed -->
                </div>
            {% endfor %}
            <button type="submit" class="btn btn-primary">Apply</button>
        </form>
    </div>
 
    <!-- Color End -->
    <!-- Filter by Brand -->
    <h5 class="section-title position-relative text-uppercase mb-3"><span class="bg-secondary pr-3">Filter by Brand</span></h5>
        <div class="bg-light p-4 mb-3">
            <form method="get" action="{% url 'shop' %}">
                {% for brand in brands %}
                <div class="custom-control custom-checkbox d-flex align-items-center justify-content-between mb-3">
                    <input type="checkbox" class="custom-control-input" id="brand-{{ brand.id }}" name="brand" value="{{ brand.id }}"
                    {% if brand.id in selected_brands %} checked {% endif %}>
                    <label class="custom-control-label" for="brand-{{ brand.id }}">{{ brand.brand_name }}</label>
                    <span class="badge border font-weight-normal">{{ brand.product_count }}</span>
                </div>
                {% endfor %}
                <button type="submit" class="btn btn-primary">Apply Filter</button>
            </form>
        </div>



  
<!-- Shop Sidebar End -->


